(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{158:function(e,t,n){},160:function(e,t,n){},253:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(31),i=n.n(r),s=n(255),d=n(56),o=n(24),u=(n(158),n(62)),l=n(268),j=n(266),x=n(265),h=n(153),p=(n(159),n(160),n(6)),b=function(){return Object(p.jsx)(s.a.Header,{className:"header",style:{overflow:"auto",position:"sticky",width:"100%"},children:Object(p.jsx)(u.a,{theme:"dark",mode:"horizontal",children:Object(p.jsxs)(l.b,{style:{float:"right"},children:[Object(p.jsx)(j.a,{}),Object(p.jsx)(x.a,{}),Object(p.jsx)(h.a,{})]})})})},f=n(264),O=n(263),v=function(){return Object(p.jsxs)(s.a.Sider,{style:{overflow:"auto",height:"100vh",position:"fixed",left:0},children:[Object(p.jsx)("div",{className:"logo"}),Object(p.jsxs)(u.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],children:[Object(p.jsx)(u.a.Item,{icon:Object(p.jsx)(f.a,{}),children:Object(p.jsx)(d.b,{to:"/students",children:"Students"})},"1"),Object(p.jsx)(u.a.Item,{icon:Object(p.jsx)(O.a,{}),children:Object(p.jsx)(d.b,{to:"/config",children:"Config"})},"2")]})]})},m=function(e){var t=e.children;return Object(p.jsx)(s.a,{className:"site-layout",style:{marginLeft:200},children:t})},y=function(e){var t=e.children;return Object(p.jsx)(s.a.Content,{style:{margin:"16px 16px 16px 16px",overflow:"initial"},children:Object(p.jsx)("div",{className:"site-layout-background",style:{padding:24,textAlign:"center",minHeight:"calc(100vh - 96px)"},children:t})})},g=n(28),k=n.n(g),_=n(45),w=n(61),I=n(257),S=n(261),C=n(78),D=n.n(C);var L=[{title:"Name",dataIndex:"device_user",key:"name"},{title:"Device Status",dataIndex:"device_status",key:"device_status"},{title:"Battery Status",dataIndex:"battery_status",key:"battery_status",render:function(e){var t="green";return"charging"===e&&(t="gold"),"low"===e&&(t="red"),Object(p.jsx)(S.a,{color:t,children:e})}},{title:"Longitude",dataIndex:"longitude",key:"longitude"},{title:"Latitude",dataIndex:"latitude",key:"latitude"},{title:"Last Update",dataIndex:"recorded_at",key:"recorded_at",render:function(e){return new Date(e).toLocaleString()},sorter:{compare:function(e,t){return D()(e.recorded_at).unix()-D()(t.recorded_at).unix()}}}],N=n(82).default,E=function(){var e=Object(o.g)(),t=Object(c.useState)([]),n=Object(w.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://hypertrack-server.herokuapp.com/devices",e.next=3,N.get("https://hypertrack-server.herokuapp.com/devices");case 3:t=e.sent,r(t.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(p.jsx)(I.a,{dataSource:a,columns:L,onRow:function(t){return{onClick:function(){return function(e,t){var n="/students/".concat(e.device_id);t.push(n)}(t,e)}}}})},z=function(){return Object(p.jsx)("div",{children:"Configs View"})},B=n(88),H=n(87),A=n(267),J=n(258),T=n(144),U=n(260),V=n(262),F=n(256),K=n(259),M=n(47),R=n(82),q=n.n(R),G=[{title:"Longitude",dataIndex:"longitude",key:"longitude"},{title:"Latitude",dataIndex:"latitude",key:"latitude"},{title:"Altitude",dataIndex:"altitude",key:"altitude"},{title:"Time Stamp",dataIndex:"recorded_at",key:"recorded_at",render:function(e){return new Date(e).toLocaleString()},sorter:{compare:function(e,t){return D()(e.recorded_at).unix()-D()(t.recorded_at).unix()}}}];function P(){return(P=Object(_.a)(k.a.mark((function e(t,n){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="https://hypertrack-server.herokuapp.com/device/".concat(n),e.next=3,q.a.post(c,{device_user:t});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t){return W.apply(this,arguments)}function W(){return(W=Object(_.a)(k.a.mark((function e(t,n){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="https://hypertrack-server.herokuapp.com/device/".concat(n),e.next=3,q.a.post(c,{device_status:t});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=n(82).default,Y=function(e){var t,n,a=e.match.params,r=Object(o.g)(),i=J.a.useForm(),s=Object(w.a)(i,1)[0],d=Object(c.useState)({device_id:null,device_status:"inactive",battery_status:null,longitude:null,latitude:null,device_user:null}),u=Object(w.a)(d,2),l=u[0],j=u[1],x=Object(c.useState)([]),h=Object(w.a)(x,2),b=h[0],f=h[1],O=Object(c.useState)(""),v=Object(w.a)(O,2),m=v[0],y=v[1];return Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://hypertrack-server.herokuapp.com/device/".concat(a.deviceId),e.next=3,X.get(t);case 3:n=e.sent,j(n.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(_.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://hypertrack-server.herokuapp.com/locations/".concat(a.deviceId),e.next=3,X.get(t);case 3:n=e.sent,f(n.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[]),l.device_id?Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},children:[Object(p.jsxs)("div",{style:{display:"flex",width:"100%",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[Object(p.jsx)(H.a,{onClick:function(){return r.goBack()},style:{float:"left"}}),Object(p.jsx)(U.a,{style:{float:"left",margin:"36px"},size:{xs:24,sm:32,md:40,lg:64,xl:80,xxl:100},icon:Object(p.jsx)(A.a,{})}),Object(p.jsxs)("h2",{children:["Device ",l&&l.device_id]})]}),Object(p.jsx)(V.a,{checkedChildren:"Disable Device",unCheckedChildren:"Enable Device",checked:(n=l.device_status,!(!n||"active"!==n)),onClick:Object(_.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.device_status||"active"!==l.device_status){e.next=6;break}return j(Object(B.a)(Object(B.a)({},l),{},{device_status:"inactive"})),e.next=4,Q("inactive",l.device_id);case 4:e.next=9;break;case 6:return j(Object(B.a)(Object(B.a)({},l),{},{device_status:"active"})),e.next=9,Q("active",l.device_id);case 9:case"end":return e.stop()}}),e)})))}),Object(p.jsx)(F.a,{}),Object(p.jsx)("h2",{style:{alignSelf:"center"},children:"Student Information"}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"100%",alignItems:"space-around",justifyContent:"space-around"},children:[Object(p.jsxs)(J.a,{form:s,name:"student-details",children:[Object(p.jsx)(J.a.Item,{name:"student-name",label:"Name",initialValue:(t=l.device_user,t||""),children:Object(p.jsx)(K.a,{onChange:function(e){y(e.target.value)}})}),Object(p.jsx)(J.a.Item,{name:"update-student",children:Object(p.jsx)(M.a,{type:"primary",htmlType:"submit",onClick:function(){return function(e,t){return P.apply(this,arguments)}(m,a.deviceId)},children:"Update"})})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Current Location "}),Object(p.jsx)("p",{children:l.longitude+", "+l.latitude})]})]}),Object(p.jsx)(F.a,{}),Object(p.jsx)("h2",{style:{alignSelf:"center"},children:"Location History"}),Object(p.jsx)(I.a,{style:{width:"100%"},dataSource:b,columns:G})]}):Object(p.jsx)(T.a,{size:"large"})};var Z=function(){return Object(p.jsx)(s.a,{children:Object(p.jsxs)(d.a,{children:[Object(p.jsx)(v,{}),Object(p.jsxs)(m,{children:[Object(p.jsx)(b,{}),Object(p.jsx)(y,{children:Object(p.jsxs)(o.d,{children:[Object(p.jsx)(o.b,{exact:!0,path:"/config",component:z}),Object(p.jsx)(o.b,{exact:!0,path:"/students",component:E}),Object(p.jsx)(o.b,{path:"/students/:deviceId",component:Y}),Object(p.jsx)(o.b,{path:"/",children:Object(p.jsx)(o.a,{to:"/students"})})]})})]})]})})};i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(Z,{})}),document.getElementById("root"))}},[[253,1,2]]]);
//# sourceMappingURL=main.1cd139f1.chunk.js.map